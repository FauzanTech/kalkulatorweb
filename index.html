<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Kalkulator</title>
    <style>
        .flex {
            display: flex;
        }
    </style>
</head>
<body>
    <div class="container">
        <input id="setnilai" class="nilai">
        <div id="hasil"></div>
        <div class="flex">
            <div onclick="setAngka(1)"> 1 </div>
            <div onclick="setAngka(2)"> 2 </div>
            <div onclick="setAngka(3)"> 3 </div>
            <div onclick="tambah()">
                +
            </div>
        </div>
        <div class="flex">
            <div onclick="setAngka(4)"> 4 </div>
            <div onclick="setAngka(5)"> 5 </div>
            <div onclick="setAngka(6)"> 6 </div>
            <div onclick="kurang()">
                -
            </div>
        </div>
        <div class="flex">
            <div onclick="setAngka(7)"> 7 </div>
            <div onclick="setAngka(8)"> 8 </div>
            <div onclick="setAngka(9)"> 9 </div>
            <div onclick="kali()">
                *
            </div>
        </div>
        <div class="flex">
            <div onclick="koma()"> . </div>
            <div onclick="setAngka(0)"> 0 </div>
            <div onclick="equal()"> = </div>
            <div onclick="bagi()">
                /
            </div>
        </div>
        <div class="clear">
            <div onclick="del()"> C </div>
        </div>
    </div>
    <script>
        var x = document.getElementById("setnilai");
        var hasil = document.getElementById("hasil");
        var curr = 0;

        function setAngka(nilai) {
            var setNilai = x.value + nilai;
            x.value = setNilai;
            var nilaiJumlah = [];

            var splitNilai = setNilai.split('+').join(';+;').split('-').join(';-;').split('*').join(';*;').split('/').join(';/;').split(';');
            console.log(splitNilai);

            if (splitNilai.length > 2) {
                let res = Number(splitNilai[0]);
                for (let i = 0; i < splitNilai.length; i++) {
                    if (splitNilai[i] == "+") {
                        res += Number(splitNilai[i+1]);
                    } else if (splitNilai[i] == "-") {
                        res -= Number(splitNilai[i+1]);
                    } else if (splitNilai[i] == "*") {
                        res *= Number(splitNilai[i+1]);
                    } else if (splitNilai[i] == "/") {
                        res /= Number(splitNilai[i+1]);
                    }
                }
                hasil.innerHTML = res;
                curr = res;
            }
            
        }

        function equal() {
            x.value = curr;
            hasil.innerHTML = "";
        }

        function tambah() {
            var setNilai = x.value + "+";
            x.value = setNilai;
        }

        function kurang() {
            var setNilai = x.value + "-";
            x.value = setNilai;
        }

        function kali() {
            var setNilai = x.value + "*";
            x.value = setNilai;
        }

        function bagi() {
            var setNilai = x.value + "/";
            x.value = setNilai;
        }
        
        function koma() {
            var setNilai = x.value + ".";
            x.value = setNilai;    
        }

        function del() {
            x.value = "";
            hasil.innerHTML = "";
        }
    </script>
</body>
</html>